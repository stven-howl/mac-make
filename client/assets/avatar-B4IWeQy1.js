import{r as n,j as d}from"./chunk-HA7DTUK3-p_etNeEz.js";import{r as M}from"./index-DQSv-Tvp.js";import{S as $,a as x}from"./button-C45jCmqI.js";var k=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],S=k.reduce((e,t)=>{const a=n.forwardRef((r,i)=>{const{asChild:s,...u}=r,o=s?$:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(o,{...u,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function Q(e,t){e&&M.flushSync(()=>e.dispatchEvent(t))}function F(e,t=[]){let a=[];function r(s,u){const o=n.createContext(u),c=a.length;a=[...a,u];const l=m=>{var h;const{scope:f,children:g,...v}=m,p=((h=f==null?void 0:f[e])==null?void 0:h[c])||o,I=n.useMemo(()=>v,Object.values(v));return d.jsx(p.Provider,{value:I,children:g})};l.displayName=s+"Provider";function w(m,f){var p;const g=((p=f==null?void 0:f[e])==null?void 0:p[c])||o,v=n.useContext(g);if(v)return v;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[l,w]}const i=()=>{const s=a.map(u=>n.createContext(u));return function(o){const c=(o==null?void 0:o[e])||s;return n.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,T(i,...t)]}function T(...e){const t=e[0];if(e.length===1)return t;const a=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const u=r.reduce((o,{useScope:c,scopeName:l})=>{const m=c(s)[`__scope${l}`];return{...o,...m}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return a.scopeName=t.scopeName,a}function B(e){const t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...a)=>{var r;return(r=t.current)==null?void 0:r.call(t,...a)},[])}var C=globalThis!=null&&globalThis.document?n.useLayoutEffect:()=>{},A="Avatar",[D,U]=F(A),[O,N]=D(A),y=n.forwardRef((e,t)=>{const{__scopeAvatar:a,...r}=e,[i,s]=n.useState("idle");return d.jsx(O,{scope:a,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:d.jsx(S.span,{...r,ref:t})})});y.displayName=A;var E="AvatarImage",_=n.forwardRef((e,t)=>{const{__scopeAvatar:a,src:r,onLoadingStatusChange:i=()=>{},...s}=e,u=N(E,a),o=q(r,s.referrerPolicy),c=B(l=>{i(l),u.onImageLoadingStatusChange(l)});return C(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?d.jsx(S.img,{...s,ref:t,src:r}):null});_.displayName=E;var L="AvatarFallback",b=n.forwardRef((e,t)=>{const{__scopeAvatar:a,delayMs:r,...i}=e,s=N(L,a),[u,o]=n.useState(r===void 0);return n.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(c)}},[r]),u&&s.imageLoadingStatus!=="loaded"?d.jsx(S.span,{...i,ref:t}):null});b.displayName=L;function q(e,t){const[a,r]=n.useState("idle");return C(()=>{if(!e){r("error");return}let i=!0;const s=new window.Image,u=o=>()=>{i&&r(o)};return r("loading"),s.onload=u("loaded"),s.onerror=u("error"),s.src=e,t&&(s.referrerPolicy=t),()=>{i=!1}},[e,t]),a}var j=y,P=_,R=b;const G=n.forwardRef(({className:e,...t},a)=>d.jsx(j,{ref:a,className:x("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));G.displayName=j.displayName;const H=n.forwardRef(({className:e,...t},a)=>d.jsx(P,{ref:a,className:x("aspect-square h-full w-full",e),...t}));H.displayName=P.displayName;const K=n.forwardRef(({className:e,...t},a)=>d.jsx(R,{ref:a,className:x("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));K.displayName=R.displayName;export{G as A,S as P,H as a,K as b,C as c,F as d,Q as e,B as u};
